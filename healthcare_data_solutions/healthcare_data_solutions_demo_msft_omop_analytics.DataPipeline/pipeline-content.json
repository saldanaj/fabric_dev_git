{
  "properties": {
    "activities": [
      {
        "type": "TridentNotebook",
        "typeProperties": {
          "notebookId": "42b225f9-213e-a065-46aa-ec1f7a3f16e3",
          "workspaceId": "00000000-0000-0000-0000-000000000000",
          "parameters": {
            "inline_params": {
              "value": "{\"pipeline_runId\":\"@{pipeline().RunId}\",\"pipeline_name\":\"@{pipeline().PipelineName}\"}",
              "type": "string"
            }
          }
        },
        "name": "raw_process_movement",
        "description": "This notebook will leverage the Healthcare Data Solutions library to move/extract (extract ZIP files and move) files for multiple HDS modalities, which contain various namespaces and file extensions. This framework will move/extract (extract ZIP files and move) files based on the 'file_orchestration_config' configuration, which contains mapping details such as modality, modality_format, extension etc.\nPlease note that there should not be more than one instance of this notebook running as this will cause inconsistent results.",
        "dependsOn": []
      },
      {
        "type": "TridentNotebook",
        "typeProperties": {
          "notebookId": "83034a17-4774-b21a-4c35-08f6c7010380",
          "workspaceId": "00000000-0000-0000-0000-000000000000",
          "parameters": {
            "inline_params": {
              "value": "{\"pipeline_runId\":\"@{pipeline().RunId}\",\"pipeline_name\":\"@{pipeline().PipelineName}\"}",
              "type": "string"
            }
          }
        },
        "name": "fhir_ndjson_bronze_ingestion",
        "description": "This notebook activity facilitates the ingestion of FHIR ndjson data into Delta tables within the bronze lakehouse.\nPlease note that there should not be more than one instance of this notebook running as this will cause inconsistent results.",
        "dependsOn": [
          {
            "activity": "raw_process_movement",
            "dependencyConditions": [
              "Completed"
            ]
          }
        ]
      },
      {
        "type": "TridentNotebook",
        "typeProperties": {
          "notebookId": "4832365c-bfe9-99fe-462b-33a571e3d309",
          "workspaceId": "00000000-0000-0000-0000-000000000000",
          "parameters": {
            "inline_params": {
              "value": "{\"pipeline_runId\":\"@{pipeline().RunId}\",\"pipeline_name\":\"@{pipeline().PipelineName}\"}",
              "type": "string"
            }
          }
        },
        "name": "bronze_silver_flatten",
        "description": "This notebook activity transforms and flattens the data from the bronze lakehouse and ingests the data into the silver lakehouse.\nPlease note that there should not be more than one instance of this notebook running as this will cause inconsistent results.",
        "dependsOn": [
          {
            "activity": "fhir_ndjson_bronze_ingestion",
            "dependencyConditions": [
              "Completed"
            ]
          }
        ]
      },
      {
        "type": "TridentNotebook",
        "typeProperties": {
          "notebookId": "9159d81d-a1c9-9834-4c60-97f96b77f6cd",
          "workspaceId": "00000000-0000-0000-0000-000000000000",
          "parameters": {
            "inline_params": {
              "value": "{\"pipeline_runId\":\"@{pipeline().RunId}\",\"pipeline_name\":\"@{pipeline().PipelineName}\"}",
              "type": "string"
            }
          }
        },
        "name": "omop_silver_gold_transformation",
        "description": "This notebook activity transforms data from the silver lakehouse to the OMOP Common Data Model and ingest the data into the Gold lakehouse.\nPlease note that there should not be more than one instance of this notebook running as this will cause inconsistent results.",
        "dependsOn": [
          {
            "activity": "bronze_silver_flatten",
            "dependencyConditions": [
              "Completed"
            ]
          }
        ]
      }
    ]
  }
}